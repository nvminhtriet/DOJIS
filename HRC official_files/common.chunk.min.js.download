(window.webpackJsonp_media_image_studio=window.webpackJsonp_media_image_studio||[]).push([[2],{1201:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.path=null,this.fileId=null,t&&(t.fileId&&(this.fileId=t.fileId),t.path&&(this.path=t.path))};e.Source=i},1202:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validator={numberIsRequired:function(t,e){return 0===e||e?null:t+" is mandatory"},numberNotInRange:function(t,e,n,i){return"number"==typeof e&&isNaN(e)||e>i||e<n?t+": "+e+" is not a number between "+n+" to "+i:null},numberIsNotGreaterThan:function(t,e,n){return"number"==typeof e&&isNaN(e)||e<n?t+": "+e+" is not a number greater than "+n:null}}},1203:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1204),r=function(t){this.acl=i.ACL.PUBLIC,t.acl&&(this.acl=t.acl),this.directory=t.directory,this.path=t.path};e.Destination=r},1204:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.None=0]="None",t.ASC="asc",t.DES="des"}(e.OrderDirection||(e.OrderDirection={})),function(t){t.PRIVATE="private",t.PUBLIC="public"}(e.ACL||(e.ACL={})),function(t){t.FILE="-",t.FOLDER="d"}(e.FileType||(e.FileType={})),function(t){t.Image="image",t.Video="video",t.Audio="audio",t.Font="font"}(e.MediaType||(e.MediaType={})),function(t){t.Folder="application/vnd.wix-media.dir"}(e.DescriptorMimeType||(e.DescriptorMimeType={})),function(t){t.CREATED="created",t.STREAMING="streaming",t.PENDING_RECONNECT="pending_reconnect",t.DVR_PROCESSING="dvr_processing",t.CLOSED="closed"}(e.LiveStreamState||(e.LiveStreamState={})),function(t){t.Delete="delete"}(e.Lifecycle||(e.Lifecycle={}))},1205:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1295),o=n(1296),s=n(1213),a=n(1214),u=n(1297),c=n(1298),l=n(1201),h=n(1215);!function(t){t.PENDING="pending",t.WORKING="working",t.SUCCESS="success",t.ERROR="error"}(i=e.JobStatus||(e.JobStatus={}));var f={"urn:job:archive.extract":o.ExtractArchiveSpecification,"urn:job:archive.create":r.CreateArchiveSpecification,"urn:job:av.transcode":h.TranscodeSpecification,"urn:job:av.poster":s.ExtractPosterSpecification,"urn:job:av.storyboard":a.ExtractStoryboardSpecification,"urn:job:import.file":u.FileImportSpecification,"urn:job:av.package":c.PackagingSpecification},p=function(){function t(t){this.issuer=null,this.status=i.PENDING,this.groupId=null,this.dateCreated=null,this.dateUpdated=null,this.sources=[],this.id=t.id,this.type=t.type,this.issuer=t.issuer,t.status&&(this.status=t.status),this.groupId=t.groupId,this.result=t.result,void 0!==t.sources&&(this.sources=t.sources.map((function(t){return new l.Source(t)})));var e=f[this.type];this.specification=new e(t.specification),this.dateCreated=t.dateCreated,this.dateUpdated=t.dateUpdated}return t.prototype.isWaiting=function(){return this.status===i.PENDING||this.status===i.WORKING},t.prototype.isSuccess=function(){return this.status===i.SUCCESS},t.prototype.isError=function(){return this.status===i.ERROR},t}();e.Job=p},1206:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.id="",this.hash=null,this.path="",this.mimeType=null,this.type=null,this.size=void 0,this.acl=null,this.bucket=null,this.lifecycle=null,this.dateCreated=null,this.dateExpired=null,this.dateUpdated=null,this.acl=t.acl||null,this.bucket=t.bucket||null,this.dateCreated=t.dateCreated||null,t.dateCreated&&t.lifecycle&&(this.dateExpired=new Date(new Date(t.dateCreated).getTime()+1e3*t.lifecycle.age).toISOString()),this.dateUpdated=t.dateUpdated||null,t.id&&(this.id=t.id),this.hash=t.hash||null,this.lifecycle=t.lifecycle||null,this.mimeType=t.mimeType||null,t.path&&(this.path=t.path),void 0!==t.size&&(this.size=t.size),this.type=t.type||null};e.FileDescriptor=i},1208:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){void 0===e&&(e=null),this.target=t,this.response=e,this.name=""};e.UploadEvent=i},1210:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n,i){this.width=t,this.height=e,this.x=n,this.y=i}return t.prototype.setX=function(t){return this.x=t,this},t.prototype.setY=function(t){return this.y=t,this},t.prototype.setWidth=function(t){return this.width=t,this},t.prototype.setHeight=function(t){return this.height=t,this},t}();e.Rectangle=i},1211:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1204),r=n(1244),o=n(1246),s=n(1206),a=n(1249),u=n(1250),c=n(1251),l=function(t){if(this.fileDescriptor=null,this.mediaType=null,this.basic=null,this.features=null,this.extra=null,t.fileDescriptor){if(this.fileDescriptor=new s.FileDescriptor(t.fileDescriptor||void 0),this.mediaType=t.mediaType||null,t.basic)switch(this.mediaType){case i.MediaType.Image:this.basic=new a.ImageBasicMetadata(t.basic);break;case i.MediaType.Video:this.basic=new c.VideoBasicMetadata(t.basic);break;case i.MediaType.Audio:this.basic=new r.AudioBasicMetadata(t.basic);break;default:return}if(t.features)switch(this.mediaType){case i.MediaType.Image:this.features=new u.ImageFeatures(t.features);break;default:return}if(t.extra)switch(this.mediaType){case i.MediaType.Audio:this.extra=new o.AudioExtraMetadata(t.extra);break;default:return}}};e.FileMetadata=l},1212:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){this.name="Base",this.width=Math.round(t),this.height=Math.round(e)}return t.prototype.serialize=function(){throw Error("NotImplemented")},t}();e.GeometryBase=o;var s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.coordinates(e,n),i}return r(e,t),e.prototype.coordinates=function(t,e){throw Error("NotImplemented")},e}(o);e.Geometry=s},1213:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1203),r=function(t){this.destination=new i.Destination(t.destination),this.format=t.format,this.second=t.second,this.percentage=t.percentage};e.ExtractPosterSpecification=r},1214:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1203),r=function(t){this.destination=new i.Destination(t.destination),this.format=t.format,this.columns=t.columns,this.rows=t.rows,this.tileWidth=t.tileWidth,this.tileHeight=t.tileHeight};e.ExtractStoryboardSpecification=r},1215:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1268),r=n(1203),o=n(1231),s=n(1271),a=function(t){this.quality=null,this.video=null,this.audio=null,this.destination=new r.Destination(t.destination),this.quality=t.quality?t.quality:null,this.qualityRange=new o.QualityRange(t.qualityRange?t.qualityRange:{maximum:null,minimum:null}),t.video&&(this.video=new s.Video(t.video)),t.audio&&(this.audio=new i.Audio(t.audio))};e.TranscodeSpecification=a},1216:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1217),r=n(1206),o=n(1201),s=function(t){this.specification=null,this.results=[],this.sources=[],this.successors=[],this.status=null,this.type=t.type,this.specification=t.specification,t.successors&&(this.successors=t.successors),t.callback&&(this.callback=new i.Callback(t.callback)),t.sources&&(this.sources=t.sources.map((function(t){return new o.Source(t)}))),t.results&&(this.results=t.results.map((function(t){return new r.FileDescriptor(t)}))),this.status=t.status?t.status:null};e.FlowComponent=s},1217:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.url=t.url,this.attachment=t.attachment,this.headers=t.headers};e.Callback=i},1218:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1201),o=n(1217);!function(t){t.STOP_ON_ERROR="stopOnError",t.CONTINUE_ON_ERROR="continueOnError"}(i=e.ErrorStrategy||(e.ErrorStrategy={}));var s=function(t){if(this.sources=[],this.entryPoints=[],this.errorStrategy=i.STOP_ON_ERROR,t){for(var e in this.sources=[],t.sources)this.sources[e]=new r.Source(t.sources[e]);t.callback&&(this.callback=new o.Callback(t.callback)),this.entryPoints=t.entryPoints,this.errorStrategy=t.errorStrategy}};e.Invocation=s},1219:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1233),r=n(1220),o=n(1275),s=n(1276),a=function(t){this.id=null,this.id=t.id,this.publishEndpoint=new s.PublishEndpoint(t.publishEndpoint),this.playbackUrls=t.playbackUrls.map((function(t){return new o.PlaybackUrl(t)})),this.streamType=t.streamType,this.duration=t.duration,this.connectTimeout=t.connectTimeout,this.reconnectTimeout=t.reconnectTimeout,this.enforcedWidth=t.enforcedWidth,this.enforcedHeight=t.enforcedHeight,this.maxPublishDuration=t.maxPublishDuration,this.state=t.state,this.dvr=t.dvr?new i.Dvr(t.dvr):void 0,this.publisherGeo=t.publisherGeo?new r.Geo(t.publisherGeo):void 0,this.dateCreated=t.dateCreated,this.dateUpdated=t.dateUpdated};e.LiveStream=a},1220:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){var e=t.coordinates;e&&(this.coordinates={latitude:e.latitude,longitude:e.longitude}),this.ipAddress=t.ipAddress,this.country=t.country,this.city=t.city};e.Geo=i},1221:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1299),r=n(1234),o=n(1235);e.observeJobCreator=function(t,e){var n=new r.JobManager(t,e);return function(t,e){return void 0===e&&(e=500),new i((function(i){var r=function(t){t.isError()?i.error(t):(i.next(t),t.isSuccess()?i.complete():t.isWaiting()&&setTimeout((function(){var e;e=t,n.getJob(e.id).then(r).catch(o)}),e))},o=function(t){i.error(t)};t().then(r).catch(o)}))}},e.observeJobGroupCreator=function(t,e){var n=new r.JobManager(t,e);return function(t,e){return void 0===e&&(e=500),new i((function(i){var r=function(t){t.isError()?i.error(t):(i.next(t),t.isSuccess()?i.complete():t.isWaiting()&&setTimeout((function(){var e;e=t,n.getJobGroup(e.groupId).then((function(t){return new o.JobGroup({groupId:e.groupId,jobs:t})})).then(r).catch(s)}),e))},s=function(t){i.error(t)};t().then(r).catch(s)}))}}},1223:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1242);e.Image=i.Image;var r=n(1203);e.Destination=r.Destination;var o=n(1213),s=n(1214),a=n(1230),u=n(1231);e.QualityRange=u.QualityRange;var c=n(1201);e.Source=c.Source;var l=n(1215),h=n(1232),f=n(1216),p=n(1218),d=n(1219),v=n(1277),y=n(1278),m=n(1279),g=n(1280),b=n(1281),_=n(1282),w=n(1283),P=n(1285),O=n(1286),j=n(1287),M=n(1288),x=n(1289),T=n(1290),C=n(1291),S=n(1292);e.Configuration=S.Configuration;var E=n(1293);e.MediaPlatform=E.MediaPlatform;var R=n(1236);e.image={Image:i.Image,ImageOperationSpecification:a.ImageOperationSpecification,ImageOperationRequest:_.ImageOperationRequest},e.upload={UploadJob:R.UploadJob},e.file={UploadUrlRequest:C.UploadUrlRequest,UploadFileRequest:T.UploadFileRequest,ImportFileRequest:w.ImportFileRequest,ListFilesRequest:P.ListFilesRequest,Source:c.Source,Destination:r.Destination},e.job={SearchJobsRequest:M.SearchJobsRequest},e.live={LivestreamRequest:j.LiveStreamRequest,LiveStreamListRequest:O.LiveStreamListRequest,LiveStream:d.LiveStream},e.flow={CreateFlowRequest:y.CreateFlowRequest,Flow:h.Flow,Invocation:p.Invocation,FlowComponent:f.FlowComponent},e.archive={CreateArchiveRequest:v.CreateArchiveRequest,ExtractArchiveRequest:m.ExtractArchiveRequest},e.transcode={TranscodeRequest:x.TranscodeRequest,TranscodeSpecification:l.TranscodeSpecification,ExtractPosterRequest:g.ExtractPosterRequest,ExtractStoryboardRequest:b.ExtractStoryboardRequest,ExtractPosterSpecification:o.ExtractPosterSpecification,ExtractStoryboardSpecification:s.ExtractStoryboardSpecification,QualityRange:u.QualityRange},e.MP={Configuration:S.Configuration,MediaPlatform:E.MediaPlatform,Image:i.Image,image:e.image,upload:e.upload,file:e.file,job:e.job,live:e.live,flow:e.flow,archive:e.archive,transcode:e.transcode,Source:c.Source,Destination:r.Destination,QualityRange:u.QualityRange}},1224:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.codecLongName=null,this.codecTag=null,this.codecName=null,this.duration=null,this.bitrate=null,this.index=null,this.codecLongName=t.codecLongName,this.codecTag=t.codecTag,this.codecName=t.codecName,this.duration=t.duration,this.bitrate=t.bitrate,this.index=t.index};e.AudioStream=i},1225:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.pixelFraction=null,this.score=null,this.r=t.r,this.g=t.g,this.b=t.b,this.pixelFraction=t.pixelFraction,this.score=t.score};e.Color=i},1226:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.VERY_LIKELY="VERY_LIKELY",t.POSSIBLE="POSSIBLE",t.UNLIKELY="UNLIKELY",t.VERY_UNLIKELY="VERY_UNLIKELY"}(e.Likelihood||(e.Likelihood={}));var i=function(t){this.likelihood=t.likelihood,this.name=t.name};e.ExplicitContent=i},1227:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.name=t.name,this.score=t.score};e.Label=i},1228:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseFileDescriptor=function(t,e){if("image"!==e.mimeType.split("/")[0].toLowerCase())throw new Error("file is not an image");t.path=e.path,t.fileName=t.path.split("/").pop()}},1229:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n){this.width=t,this.height=e,this.mimeType=n}return t.prototype.serialize=function(){return"w_"+this.width+",h_"+this.height+",mt_"+encodeURIComponent(this.mimeType)},t}();e.Metadata=i},1230:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1203),r=function(t){this.command=null,this.destination=null,this.command=t.command,this.destination=new i.Destination(t.destination)};e.ImageOperationSpecification=r},1231:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.minimum=null,this.maximum=null,this.minimum=t.minimum||null,this.maximum=t.maximum||null};e.QualityRange=i},1232:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1216),r=n(1218),o=function(t){var e=this;this.id=null,this.status=null,this.operations={},this.id=t.id,this.status=t.status||null,this.error=t.error||null,this.invocation=new r.Invocation(t.invocation),Object.keys(t.operations).map((function(n){e.operations[n]=new i.FlowComponent(t.operations[n])}))};e.Flow=o},1233:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1203),r=function(t){this.destination=new i.Destination(t.destination)};e.Dvr=r},1234:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(1205),o=n(1301),s=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/jobs"}return t.prototype.getJob=function(t){return this.httpClient.get(this.apiUrl+"/"+t).then((function(t){return new r.Job(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.getJobGroup=function(t){return this.httpClient.get(this.apiUrl+"/groups/"+t,{}).then((function(t){return t.payload.map((function(t){return new r.Job(t)}))}),(function(t){return Promise.reject(t)}))},t.prototype.searchJobs=function(t){var e=i({},t);return this.httpClient.get(this.apiUrl,e).then((function(t){return new o.SearchJobsResponse(t.payload)}),(function(t){return Promise.reject(t)}))},t}();e.JobManager=s},1235:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1205),r=function(){function t(t){this.jobs=[],this.groupId=t.groupId,this.jobs=t.jobs.map((function(t){return new i.Job(t)}))}return t.prototype.isWaiting=function(){return this.jobs.some((function(t){return t.isWaiting()}))},t.prototype.isError=function(){return this.jobs.some((function(t){return t.isError()}))},t.prototype.isSuccess=function(){return this.jobs.every((function(t){return t.isSuccess()}))},t}();e.JobGroup=r},1236:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(1323),a=n(1206),u=n(1204),c=n(1324),l=n(1325),h=n(1326),f=n(1327),p=n(1328),d=n(1329);!function(t){t.STOPPED="stopped",t.RUNNING="running"}(o=e.UploadJobState||(e.UploadJobState={}));var v=function(t){function e(e){var n=e.file,i=e.path,r=e.uploadFileRequest,s=e.uploadToken,a=e.uploadUrl,u=t.call(this)||this;return u.state=o.STOPPED,u.request=void 0,u.file=n,u.path=i,u.uploadFileRequest=r,u.uploadToken=s,u.uploadUrl=a,u}return r(e,t),e.prototype.run=function(t){var e=this;if(this.state===o.RUNNING)return console.warn("job already running"),this;if(!this.file)throw Error("no file");this.state=o.RUNNING;var n=u.ACL.PUBLIC;this.uploadFileRequest&&this.uploadFileRequest.acl&&(n=this.uploadFileRequest.acl);var i=new f.UploadStartedEvent(this);this.emit(i.name,i);var r=new d.UploadConfigurationRequest({acl:n,mimeType:this.file.type,path:this.path,size:this.file.size});return(this.uploadToken&&this.uploadUrl?Promise.resolve({uploadToken:this.uploadToken,uploadUrl:this.uploadUrl}):t.getUploadConfiguration(r)).then((function(t){var i=function(t){var n=new h.UploadProgressEvent(e,t.loaded,t.total);e.emit(n.name,n)},r=function(t){var n;if(t.target.status>=400)n=new l.UploadErrorEvent(e,t.target.response);else{var i="string"==typeof t.target.response?JSON.parse(t.target.response).payload:t.target.response.payload,r=[new a.FileDescriptor(i)];n=new p.UploadSuccessEvent(e,t.target.response,r)}e.emit(n.name,n)},s=function(){var t=new l.UploadErrorEvent(e,y.response);e.emit(t.name,t)},u=function(t){var n=new c.UploadAbortedEvent(t.target);e.emit(n.name,n)},f=function(){d(),e.emit("upload-end")},d=function(){y.upload?y.upload.removeEventListener("progress",i):y.removeEventListener("progress",i),y.removeEventListener("load",r),y.removeEventListener("error",s),y.removeEventListener("abort",u),y.removeEventListener("loadend",f),e.state=o.STOPPED},v=new FormData;v.append("uploadToken",t.uploadToken),void 0!==e.path&&v.append("path",e.path),void 0!==e.file&&v.append("file",e.file),v.append("acl",n),e.uploadFileRequest&&e.uploadFileRequest.lifecycle&&v.append("lifecycle",e.uploadFileRequest.lifecycle);var y=e.request=new XMLHttpRequest;y.upload?y.upload.addEventListener("progress",i):y.addEventListener("progress",i),y.addEventListener("load",r),y.addEventListener("error",s),y.addEventListener("abort",u),y.addEventListener("loadend",f),y.open("POST",t.uploadUrl),y.withCredentials=!0,y.responseType="json",y.send(v)}),(function(t){var n=new l.UploadErrorEvent(e,t);e.emit(n.name,n)})),this},e.prototype.abort=function(){if(this.state!==o.RUNNING)throw Error("Job is not running");this.request&&this.request.abort()},e}(s.EventEmitter);e.UploadJob=v},1237:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=l,e.wrap=h;var r,o=n(1238),s=(r=o)&&r.__esModule?r:{default:r};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof i&&"function"==typeof i.nextTick;function l(t){setTimeout(t,0)}function h(t){return function(e){var n=(0,s.default)(arguments,1);t((function(){e.apply(null,n)}))}}a=u?t:c?i.nextTick:l,e.default=h(a)}).call(this,n(1339).setImmediate,n(676))},1238:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var n=Math.max(t.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=t[e+r];return i},t.exports=e.default},1239:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var i,r=n(1342),o=(i=r)&&i.__esModule?i:{default:i};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},1240:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(1223),r=function(t){var e=t.domain,n=t.authenticationUrl;return new i.MediaPlatform({domain:e,authenticationUrl:n})}},1242:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1243),r=n(1210),o=n(1206),s=n(1211),a=n(1254),u=n(1255),c=n(1256),l=n(1257),h=n(1258),f=n(1259),p=n(1260),d=n(1261),v=n(1262),y=n(1263),m=n(1264),g=n(1265),b=n(1228),_=n(1266),w=n(1267),P=function(){function t(t){this.host=null,this.path=null,this.fileName=null,this.metadata=null,this.version="v1",this.geometry=null;var e=new p.UnsharpMask(this);this.unsharpMask=e.configuration;var n=new u.Blur(this);this.blur=n.percentage;var i=new c.Brightness(this);this.brightness=i.brightness;var r=new l.Contrast(this);this.contrast=r.contrast;var v=new h.Hue(this);this.hue=v.hue;var y=new f.Saturation(this);this.saturation=y.saturation;var m=new a.JPEG(this);this.jpeg=m.compression;var g=new d.Watermark(this);this.watermark=g.manifest,t&&("string"==typeof t?w.parseUrl(this,t):t instanceof o.FileDescriptor?b.parseFileDescriptor(this,t):t instanceof s.FileMetadata&&_.parseFileMetadata(this,t)),this.serializationOrder=[n,i,r,v,m,y,e,g]}return t.prototype.scaleToWidth=function(t,e){var n=(new i.Dimension).setWidth(t);return this.fillContainer(n,e)},t.prototype.scaleToHeight=function(t,e){var n=(new i.Dimension).setHeight(t);return this.fillContainer(n,e)},t.prototype.fillContainer=function(t,e){if(!this.metadata)throw new Error("client side manipulation requires image basic metadata");null==e&&(e=new r.Rectangle(this.metadata.width,this.metadata.height,0,0));var n,i=e.width/e.height,o=Math.round(t.width?t.width:t.height*i),s=Math.round(t.height?t.height:t.width/i);n=t.width/t.height<=1?s/e.height:o/e.width;var a=Math.floor(e.x*n),u=Math.floor(e.y*n),c=Math.floor(e.height*n),l=Math.floor(e.width*n),h=s-c;c+=h;var f=Math.floor(h/2);u-f<0?u=0:u-=f;var p=o-l;l+=p;var d=Math.floor(p/2);return a-d<0?a=0:a-=d,this.crop(l,c,a,u,n)},t.prototype.crop=function(t,e,n,i,r){return void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=1),this.geometry=new v.Crop(t,e,n,i,r),this},t.prototype.smartCrop=function(t,e){return this.geometry=new g.SmartCrop(t,e),this},t.prototype.fill=function(t,e){return this.geometry=new y.Fill(t,e),this},t.prototype.fit=function(t,e){return this.geometry=new m.Fit(t,e),this},t.prototype.toUrl=function(t){var e=this.toCommand();if(e.error)return{url:null,error:e.error};var n=t||this.host||"",i="";0!==n.length&&0!==n.indexOf("http")&&0!==n.indexOf("//")&&(i+="//"),n.lastIndexOf("/")===n.length-1&&(n=n.slice(0,-1));var r=this.path;return null===r||null===this.fileName?{url:null,error:new Error("path or filename is missing")}:(0===r.indexOf("/")&&(r=r.slice(1)),e.command?i+=n+"/"+r+e.command+"/"+encodeURIComponent(this.fileName):i+=n+"/"+r,this.metadata&&(i+="#"+this.metadata.serialize()),{url:i,error:null})},t.prototype.toCommand=function(){if(!this.geometry)return{url:"",error:null};var t=this.geometry.serialize();if(t.error)return{url:null,error:t.error};var e=this.collectParams();return e.errors.length>0?{url:null,error:new Error(e.errors.join(","))}:{command:"/"+this.version+"/"+t.params+e.params,error:null}},t.prototype.collectParams=function(){var t,e="",n=[];return this.serializationOrder.forEach((function(i){(t=i.serialize()).error&&n.push(t.error),e.length>0&&t.params&&t.params.length>0&&(e+=","),e+=t.params})),e.length>0&&(e=","+e),{params:e,errors:n}},t}();e.Image=P},1243:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=t,this.height=e}return t.prototype.setWidth=function(t){return this.width=t,this},t.prototype.setHeight=function(t){return this.height=t,this},t}();e.Dimension=i},1244:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1224),r=n(1245),o=function(t){this.audioStreams=[],this.format=null,this.audioStreams=t.audioStreams.map((function(t){return new i.AudioStream(t)})),this.format=null===t.format?t.format:new r.AudioFormat(t.format||void 0)};e.AudioBasicMetadata=o},1245:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.formatLongName=null,this.duration=null,this.bitrate=null,this.size=null,this.formatLongName=t.formatLongName,this.duration=t.duration,this.bitrate=t.bitrate,this.size=t.size};e.AudioFormat=i},1246:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1247),r=n(1248),o=function(t){this.trackName=null,this.artist=null,this.albumName=null,this.trackNumber=null,this.genre=null,this.composer=null,this.year=null,this.images=[],this.lyrics=null,this.trackName=t.trackName,this.artist=t.artist,this.albumName=t.albumName,this.trackNumber=t.trackNumber,this.genre=t.genre,this.composer=t.composer,this.year=t.year,t.images&&(this.images=t.images.map((function(t){return new i.AttachedImage(t)}))),t.lyrics&&(this.lyrics=new r.Lyrics(t.lyrics))};e.AudioExtraMetadata=o},1247:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.type=null,this.mimeType=null,this.url=null,this.type=t.type,this.mimeType=t.mimeType,this.url=t.url};e.AttachedImage=i},1248:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.description=null,this.language=null,this.text=null,this.description=t.description,this.language=t.language,this.text=t.text};e.Lyrics=i},1249:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.height=null,this.width=null,this.colorspace=null,this.format=null,this.height=t.height,this.width=t.width,this.colorspace=t.colorspace,this.format=t.format};e.ImageBasicMetadata=i},1250:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1210),r=n(1225),o=n(1226),s=n(1227),a=function(t){this.colors=[],this.explicitContent=[],this.faces=[],this.labels=[],this.colors=t.colors.map((function(t){return new r.Color(t)})),this.explicitContent=t.explicitContent.map((function(t){return new o.ExplicitContent(t)})),this.faces=t.faces.map((function(t){return new i.Rectangle(t.width,t.height,t.x,t.y)})),this.labels=t.labels.map((function(t){return new s.Label(t)}))};e.ImageFeatures=a},1251:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1224),r=n(1252),o=n(1253),s=function(t){this.interlaced=null,this.videoStreams=[],this.audioStreams=[],this.format=null,this.interlaced=t.interlaced,this.videoStreams=t.videoStreams.map((function(t){return new o.VideoStream(t)})),this.audioStreams=t.audioStreams.map((function(t){return new i.AudioStream(t)})),this.format=null===t.format?t.format:new r.VideoFormat(t.format||void 0)};e.VideoBasicMetadata=s},1252:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.formatLongName=null,this.duration=null,this.bitrate=null,this.size=null,this.formatLongName=t.formatLongName,this.duration=t.duration,this.bitrate=t.bitrate,this.size=t.size};e.VideoFormat=i},1253:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.codecLongName=null,this.codecTag=null,this.codecName=null,this.height=null,this.width=null,this.duration=null,this.bitrate=null,this.index=null,this.rFrameRate=null,this.avgFrameRate=null,this.sampleAspectRatio=null,this.displayAspectRatio=null,this.codecLongName=t.codecLongName,this.codecTag=t.codecTag,this.codecName=t.codecName,this.height=t.height,this.width=t.width,this.duration=t.duration,this.bitrate=t.bitrate,this.index=t.index,this.rFrameRate=t.rFrameRate,this.avgFrameRate=t.avgFrameRate,this.sampleAspectRatio=t.sampleAspectRatio,this.displayAspectRatio=t.displayAspectRatio};e.VideoStream=i},1254:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),o=n(1202),s=function(){function t(t){this.image=t,this.error=null,this.settings={quality:null,baseline:null}}return t.prototype.compression=function(t,e){return t=Math.round(t||0),this.error=o.validator.numberNotInRange("jpeg compression quality",t,0,100),this.error?this.image:(this.settings.quality=75===t?null:t||null,this.settings.baseline=!!e,this.image)},t.prototype.serialize=function(){var t="";return this.settings.quality&&(t+="q_"+this.settings.quality),this.settings.baseline&&(t.length>0&&(t+=","),t+="bl"),{params:t,error:this.error}},i([r.autobind],t.prototype,"compression",null),t}();e.JPEG=s},1255:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),o=n(1202),s=function(){function t(t){this.image=t,this.error=null,this.settings={percentage:null}}return t.prototype.percentage=function(t){return this.error=o.validator.numberNotInRange("blur",t,0,100),this.error?this.image:(this.settings.percentage=t||null,this.image)},t.prototype.serialize=function(){var t="";return this.settings.percentage&&(t+="blur_"+this.settings.percentage),{params:t,error:this.error}},i([r.autobind],t.prototype,"percentage",null),t}();e.Blur=s},1256:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),o=n(1202),s=function(){function t(t){this.image=t,this.error=null,this.settings={brightness:null}}return t.prototype.brightness=function(t){return this.error=o.validator.numberNotInRange("brightness",t,-100,100),this.error?this.image:(this.settings.brightness=void 0===t?null:t,this.image)},t.prototype.serialize=function(){var t="";return this.settings.brightness&&(t+="br_"+this.settings.brightness),{params:t,error:this.error}},i([r.autobind],t.prototype,"brightness",null),t}();e.Brightness=s},1257:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),o=n(1202),s=function(){function t(t){this.image=t,this.error=null,this.settings={contrast:null}}return t.prototype.contrast=function(t){if(this.error=o.validator.numberNotInRange("contrast",t,-100,100),this.error)return this.image;if("string"==typeof t){var e=Number(t);t=isNaN(e)?void 0:e}return this.settings.contrast=void 0===t?null:t,this.image},t.prototype.serialize=function(){var t="";return this.settings.contrast&&(t+="con_"+this.settings.contrast),{params:t,error:this.error}},i([r.autobind],t.prototype,"contrast",null),t}();e.Contrast=s},1258:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),o=n(1202),s=function(){function t(t){this.image=t,this.error=null,this.settings={hue:null}}return t.prototype.hue=function(t){return this.error=o.validator.numberNotInRange("hue",t,-100,100),this.error?this.image:(this.settings.hue=void 0===t?null:t,this.image)},t.prototype.serialize=function(){var t="";return this.settings.hue&&(t+="hue_"+this.settings.hue),{params:t,error:this.error}},i([r.autobind],t.prototype,"hue",null),t}();e.Hue=s},1259:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),o=n(1202),s=function(){function t(t){this.image=t,this.error=null,this.settings={saturation:null}}return t.prototype.saturation=function(t){return this.error=o.validator.numberNotInRange("saturation",t,-100,100),this.error?this.image:(this.settings.saturation=void 0===t?null:t,this.image)},t.prototype.serialize=function(){var t="";return this.settings.saturation&&(t+="sat_"+this.settings.saturation),{params:t,error:this.error}},i([r.autobind],t.prototype,"saturation",null),t}();e.Saturation=s},1260:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),o=n(1202),s=function(){function t(t){this.image=t,this.settings={radius:null,amount:null,threshold:null},this.error=null}return t.prototype.configuration=function(t,e,n){if(void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),!t)return this.settings.radius=null,this.settings.amount=null,this.settings.threshold=null,this.error=null,this.image;var i=function(t){return"string"==typeof t?parseFloat(t):t},r=i(t),s=i(e),a=i(n);return this.error=o.validator.numberNotInRange("unsharp mask radius",r,.1,128),this.error||(this.error=o.validator.numberNotInRange("unsharp mask amount",s,0,10)),this.error||(this.error=o.validator.numberNotInRange("unsharp mask threshold",a,0,255)),this.settings.radius=r,this.settings.amount=s,this.settings.threshold=a,this.image},t.prototype.serialize=function(){if(this.error)return{params:null,error:this.error};var t="";return null!==this.settings.radius&&null!==this.settings.amount&&null!==this.settings.threshold&&(t+="usm_"+this.settings.radius.toFixed(2)+"_"+this.settings.amount.toFixed(2)+"_"+this.settings.threshold.toFixed(2)),{params:t,error:this.error}},i([r.autobind],t.prototype,"configuration",null),t}();e.UnsharpMask=s},1261:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),o=function(){function t(t){this.image=t,this.error="",this.settings={manifest:null}}return t.prototype.manifest=function(t){return this.settings.manifest=t||null,this.error="",this.image},t.prototype.serialize=function(){var t="";return this.settings.manifest&&(t+="wm_"+this.settings.manifest),{params:t,error:this.error}},i([r.autobind],t.prototype,"manifest",null),t}();e.Watermark=o},1262:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1202),r=function(){function t(t,e,n,i,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),this.width=t,this.height=e,this.x=n,this.y=i,this.scale=r,this.name="crop",this.error=null,this.width=Math.round(this.width),this.height=Math.round(this.height),this.coordinates(n,i,r)}return t.prototype.coordinates=function(t,e,n){return 0===arguments.length?(this.x=null,this.y=null,this.scale=null,this.error=null,this):(this.x=Math.round(t),this.y=Math.round(e),this.scale=n&&1!==n?n:null,this)},t.prototype.size=function(t,e){return this.width=Math.round(t),this.height=Math.round(e),this},t.prototype.serialize=function(){var t=i.validator.numberNotInRange("crop scale factor",this.scale,0,100),e=i.validator.numberIsNotGreaterThan("crop x",this.x,0),n=i.validator.numberIsNotGreaterThan("crop y",this.y,0),r=i.validator.numberIsNotGreaterThan("width",this.width,1),o=i.validator.numberIsRequired("height",this.height)||i.validator.numberIsNotGreaterThan("height",this.height,1);if(t||e||n||r||o)return{params:null,error:new Error([t,e,n,r,o].filter((function(t){return t})).join(","))};var s=this.name+"/w_"+this.width+",h_"+this.height;if((s+=",x_"+(this.x||0)).length>0&&(s+=","),s+="y_"+(this.y||0),this.scale&&1!==this.scale){s.length>0&&(s+=",");var a=this.scale.toString();this.scale===Math.floor(this.scale)&&(a=this.scale.toFixed(1)),s+="scl_"+a}return{params:s,error:null}},t}();e.Crop=r},1263:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(1202),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="fill",e.x=null,e.y=null,e.error=null,e}return r(e,t),e.prototype.coordinates=function(t,e){return 0===arguments.length?(this.x=null,this.y=null,this.error=null,this):(this.x="number"==typeof t?Math.round(t):null,this.y="number"==typeof e?Math.round(e):null,this)},e.prototype.size=function(t,e){return this.width=Math.round(t),this.height=Math.round(e),this},e.prototype.serialize=function(){var t=o.validator.numberIsNotGreaterThan("width",this.width,1),e=o.validator.numberIsNotGreaterThan("height",this.height,1);return t||e?{params:null,error:new Error([t,e].filter((function(t){return t})).join(","))}:{params:this.name+"/w_"+this.width+",h_"+this.height,error:null}},e}(n(1212).Geometry);e.Fill=s},1264:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(1202),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="fit",e.x=null,e.y=null,e.error=null,e}return r(e,t),e.prototype.coordinates=function(t,e){return 0===arguments.length?(this.x=null,this.y=null,this.error=null,this):(this.x=Math.round(t),this.y=Math.round(e),this)},e.prototype.size=function(t,e){return this.width=Math.round(t),this.height=Math.round(e),this},e.prototype.serialize=function(){var t=o.validator.numberIsNotGreaterThan("width",this.width,1),e=o.validator.numberIsNotGreaterThan("height",this.height,1);return t||e?{params:null,error:new Error([t,e].filter((function(t){return t})).join(","))}:{params:this.name+"/w_"+this.width+",h_"+this.height,error:null}},e}(n(1212).Geometry);e.Fit=s},1265:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(1202),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="scrop",e}return r(e,t),e.prototype.serialize=function(){var t=o.validator.numberIsNotGreaterThan("width",this.width,1),e=o.validator.numberIsNotGreaterThan("height",this.height,1);return t||e?{params:null,error:new Error([t,e].filter((function(t){return t})).join(","))}:{params:this.name+"/w_"+this.width+",h_"+this.height,error:null}},e}(n(1212).GeometryBase);e.SmartCrop=s},1266:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1229),r=n(1228);e.parseFileMetadata=function(t,e){r.parseFileDescriptor(t,e.fileDescriptor),e.basic&&(t.metadata=new i.Metadata(e.basic.width,e.basic.height,e.fileDescriptor.mimeType))}},1267:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1229),r={br:"brightness",con:"contrast",hue:"hue",sat:"saturation",blur:"blur",usm:"unsharpMask",wm:"watermark"};e.parseUrl=function(t,e){var n,o,s,a=function(t){var e,n,i,r,o,s,a,u,c,l,h;(h=t.split("#")).length>1&&(l=h[h.length-1]);(h=h[0].split("?")).length>1&&(c=h[h.length-1]);(h=h[0].split("//")).length>1?(e=h[0].replace(":",""),h=h[1].split("/")):h=h[0].split("/");var f=h[0].split(":");f.length>1&&(i=f[1]);return n=f[0],u=h[h.length-1],a=h[h.length-2],s=h[h.length-3],o=h[h.length-4],r=h.splice(1,h.length-5).join("/"),{host:(e?e+"://":"//")+n+(i?":"+i:"")+"/",path:r,version:o,geometry:s,transformations:a,fileName:u,query:c,fragment:l}}(e),u=(n=a.transformations,o=n.split(","),s={},o.forEach((function(t){var e=t.split("_");s[e[0]]=e.slice(1)})),s);t.host=a.host,t.path=a.path,t.metadata=function(t){if(!t)return null;var e=t.split(","),n={};if(e.forEach((function(t){var e=t.split("_");e.length>=2&&""!==e[1]&&(n[e[0]]=e.slice(1)[0])})),!n.w||!n.h||!n.mt)return null;return new i.Metadata(parseInt(n.w,10),parseInt(n.h,10),decodeURIComponent(n.mt))}(a.fragment);var c=t.path.split("/");t.fileName=c[c.length-1],function(t,e,n){var i=n.h,r=n.w,o=n.x,s=n.y,a=n.scl;t[e](i[0],r[0],o?o[0]:void 0,s?s[0]:void 0,a?a[0]:void 0)}(t,a.geometry,u),function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i=r[n];i&&t[i].apply(t,e[n])}}(t,u)}},1268:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1269),r=function(t){this.specification=new i.AudioSpecification(t.specification)};e.Audio=r},1269:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1270),r=function(t){this.channels=null,this.codec=null,this.channels=t.channels,this.codec=null===t.codec?t.codec:new i.AudioCodec(t.codec)};e.AudioSpecification=r},1270:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.cbr=null,this.name=null,this.cbr=t.cbr,this.name=t.name};e.AudioCodec=i},1271:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1272),r=function(t){this.specification=new i.VideoSpecification(t.specification)};e.Video=r},1272:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1273),r=n(1274),o=function(t){this.frameRate=null,this.keyFrame=null,this.codec=null,this.resolution=null,this.frameRate=t.frameRate,this.keyFrame=t.keyFrame,this.codec=t.codec?new r.VideoCodec(t.codec):null,this.resolution=new i.Resolution(t.resolution)};e.VideoSpecification=o},1273:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.width=null,this.height=null,this.width=t.width,this.height=t.height};e.Resolution=i},1274:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.profile=null,this.maxRate=null,this.crf=null,this.name=null,this.level=null,this.profile=t.profile,this.maxRate=t.maxRate,this.crf=t.crf,this.name=t.name,this.level=t.level};e.VideoCodec=i},1275:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.path=null,this.packageName=null,this.path=t.path,this.packageName=t.packageName};e.PlaybackUrl=i},1276:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1220),r=function(t){this.url=null,this.protocol=null,this.geo=void 0,this.url=t.url,this.protocol=t.protocol,this.geo=t.geo?new i.Geo(t.geo):void 0};e.PublishEndpoint=r},1277:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1203),r=n(1201),o=function(t){if(this.sources=[],this.destination=null,this.archiveType=null,!t)throw new Error("No data passed to CreateArchiveRequest constructor");this.sources=t.sources.map((function(t){return new r.Source(t)})),this.destination=t.destination?new i.Destination(t.destination):null,this.archiveType=t.archiveType};e.CreateArchiveRequest=o},1278:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(1216),o=n(1218),s=function(t){this.flow=Object.keys(t.flow).reduce((function(e,n){var o;return i(i({},e),((o={})[n]=new r.FlowComponent(t.flow[n]),o))}),{}),this.invocation=new o.Invocation(t.invocation)};e.CreateFlowRequest=s},1279:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1203),r=n(1201),o=function(t){this.source=null,this.destination=new i.Destination(t.destination),this.source=t.source?new r.Source(t.source):null};e.ExtractArchiveRequest=o},1280:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1213),r=n(1201),o=function(t){var e=void 0===t?{}:t,n=e.sources,o=e.specifications;this.sources=[],this.specifications=[],n&&(this.sources=n.map((function(t){return new r.Source(t)}))),o&&(this.specifications=o.map((function(t){return new i.ExtractPosterSpecification(t)})))};e.ExtractPosterRequest=o},1281:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1214),r=n(1201),o=function(t){var e=void 0===t?{}:t,n=e.sources,o=e.specifications;this.sources=[],this.specifications=[],n&&(this.sources=n.map((function(t){return new r.Source(t)}))),o&&(this.specifications=o.map((function(t){return new i.ExtractStoryboardSpecification(t)})))};e.ExtractStoryboardRequest=o},1282:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1230),r=n(1201),o=function(t){var e=t.source,n=void 0===e?null:e,o=t.specification,s=void 0===o?null:o;this.source=null,this.specification=null,n&&(this.source=new r.Source(n)),s&&(this.specification=new i.ImageOperationSpecification(s))};e.ImageOperationRequest=o},1283:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1203),r=n(1217),o=n(1284),s=function(t){this.sourceUrl=null,this.externalAuthorization=null,this.sourceUrl=t.sourceUrl,this.externalAuthorization=t.externalAuthorization?new o.ExternalAuthorization(t.externalAuthorization):null,this.destination=new i.Destination(t.destination),t.jobCallback&&(this.jobCallback=new r.Callback(t.jobCallback))};e.ImportFileRequest=s},1284:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.headers={},this.headers=t.headers};e.ExternalAuthorization=i},1285:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){void 0===t&&(t={}),this.pageSize=20,this.orderBy=null,this.orderDirection=null,t.nextPageToken&&(this.nextPageToken=t.nextPageToken),t.pageSize&&(this.pageSize=t.pageSize),this.orderBy=t.orderBy||null,this.orderDirection=t.orderDirection||null,this.type=t.type||null};e.ListFilesRequest=i},1286:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){t||(t={}),this.nextPageToken=t.nextPageToken||void 0,this.pageSize=t.pageSize||void 0,this.orderBy=t.orderBy||void 0,this.orderDirection=t.orderDirection||void 0,this.state=t.state||void 0}return t.prototype.toParams=function(){var t={};return void 0!==this.nextPageToken&&(t.nextPageToken=this.nextPageToken),void 0!==this.pageSize&&(t.pageSize=this.pageSize.toString()),void 0!==this.orderBy&&(t.orderBy=this.orderBy),void 0!==this.orderDirection&&(t.orderDirection=this.orderDirection.toString()),void 0!==this.state&&(t.state=this.state.join(",")),t},t}();e.LiveStreamListRequest=i},1287:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1233),r=n(1220),o=function(t){this.protocol=null,this.maxStreamingSec=null,this.geo=null,this.connectTimeout=null,this.reconnectTimeout=null,this.streamType=null,this.dvr=null,this.stateNotification=null,this.protocol=t.protocol,this.maxStreamingSec=t.maxStreamingSec,this.geo=new r.Geo(t.geo),this.connectTimeout=t.connectTimeout,this.reconnectTimeout=t.reconnectTimeout,this.streamType=t.streamType||null,this.dvr=new i.Dvr(t.dvr),this.stateNotification=t.stateNotification||null};e.LiveStreamRequest=o},1288:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){var e=void 0===t?{}:t,n=e.nextPageToken,i=e.pageSize,r=e.orderBy,o=e.orderDirection,s=e.issuer,a=e.type,u=e.status,c=e.groupId,l=e.fileId,h=e.path;this.nextPageToken=null,this.pageSize=null,this.orderBy=null,this.orderDirection=null,this.issuer=null,this.type=null,this.status=null,this.groupId=null,this.fileId=null,this.path=null,this.nextPageToken=n||null,this.pageSize=i||null,this.orderBy=r||null,this.orderDirection=o||null,this.issuer=s||null,this.type=a||null,this.status=u||null,this.groupId=c||null,this.fileId=l||null,this.path=h||null};e.SearchJobsRequest=i},1289:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1201),r=n(1215),o=function(t){var e=void 0===t?{}:t,n=e.sources,o=e.specifications;this.sources=[],this.specifications=[],n&&(this.sources=n.map((function(t){return new i.Source(t)}))),o&&(this.specifications=o.map((function(t){return new r.TranscodeSpecification(t)})))};e.TranscodeRequest=o},1290:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1204),r=function(t){if(this.acl=i.ACL.PUBLIC,this.mimeType="application/octet-stream",t.acl&&(this.acl=t.acl),t.age){var e="string"==typeof t.age?parseInt(t.age,10):t.age;this.lifecycle=JSON.stringify({action:i.Lifecycle.Delete,age:e})}t.mimeType&&(this.mimeType=t.mimeType)};e.UploadFileRequest=r},1291:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1204),r=function(t){this.acl=i.ACL.PUBLIC,this.mimeType=null,this.path=null,this.size=null,this.acl=t.acl,this.mimeType=t.mimeType,this.path=t.path,this.size=t.size};e.UploadUrlRequest=r},1292:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,n){this.domain=t,this.authenticationUrl=e,this.authenticationHeaders=n};e.Configuration=i},1293:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1294),r=n(1302),o=n(1307),s=n(1309),a=n(1310),u=n(1314),c=n(1234),l=n(1316),h=n(1319),f=n(1320),p=n(1321),d=n(1322),v=n(1330),y=n(1344),m=function(){function t(t){this.browserHTTPClient=new p.HTTPClient(t.authenticationUrl,t.authenticationHeaders);var e=new d.FileUploader(t,this.browserHTTPClient),n=new v.QueuedFileUploader(e);this.fileDownloader=new f.FileDownloader(t,this.browserHTTPClient),this.archiveManager=new i.ArchiveManager(t,this.browserHTTPClient),this.fileManager=new o.FileManager(t,this.browserHTTPClient,e),this.fileManager.queueFileUpload=function(t){return n.enqueue(t)},this.jobManager=new c.JobManager(t,this.browserHTTPClient),this.audioManager=new y.AudioManager(t,this.browserHTTPClient),this.avManager=new r.AVManager(t,this.browserHTTPClient),this.liveManager=new l.LiveManager(t,this.browserHTTPClient),this.flowManager=new s.FlowManager(t,this.browserHTTPClient),this.imageManager=new u.ImageManager(t,this.browserHTTPClient),this.widgetInstancesManager=new h.WidgetInstanceManager(t,this.browserHTTPClient),this.imageExtractionManager=new a.ImageExtractionManager(t,this.browserHTTPClient)}return t.prototype.getAuthorizationHeader=function(){return this.browserHTTPClient.getAuthorizationHeader().catch((function(t){return Promise.reject(t)}))},t.prototype.deauthorize=function(){this.browserHTTPClient.deauthorize()},t.prototype.getDownloadUrl=function(t,e){return this.fileDownloader.getDownloadUrl(t,e).then((function(t){return t}),(function(t){return Promise.reject(t)}))},t}();e.MediaPlatform=m},1294:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1205),r=n(1221),o=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain}return t.prototype.createArchive=function(t){return this.httpClient.post(this.baseUrl+"/_api/archive/create",t).then((function(t){return new i.Job(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.createArchiveObservable=function(t){var e=this;return r.observeJobCreator(this.configuration,this.httpClient)((function(){return e.createArchive(t)}))},t.prototype.doExtractArchive=function(t){return this.httpClient.post(this.baseUrl+"/_api/archive/extract",t)},t.prototype.extractArchiveObservable=function(t){var e=this;return r.observeJobCreator(this.configuration,this.httpClient)((function(){return e.extractArchive(t)}))},t.prototype.extractArchive=function(t){return this.doExtractArchive(t).then((function(t){return new i.Job(t.payload)}),(function(t){return Promise.reject(t)}))},t}();e.ArchiveManager=o},1295:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1201),r=function(t){this.sources=t.sources.map((function(t){return new i.Source(t)})),this.destination=t.destination,this.archiveType=t.archiveType};e.CreateArchiveSpecification=r},1296:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1203),r=n(1201),o=function(t){this.source=new r.Source(t.source),this.destination=new i.Destination(t.destination)};e.ExtractArchiveSpecification=o},1297:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.sourceUrl=t.sourceUrl,this.destination=t.destination};e.FileImportSpecification=i},1298:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1203);!function(t){t.HLS="hls",t.DASH="dash"}(e.PackageType||(e.PackageType={}));var r=function(t){this.destination=void 0,this.chunkDuration=void 0,this.packageType=void 0,this.chunkDuration=t.chunkDuration,t.destination&&(this.destination=new i.Destination(t.destination)),this.packageType=t.packageType};e.PackagingSpecification=r},1299:function(t,e,n){t.exports=n(1300).Observable},1300:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){return"function"==typeof Symbol},s=function(t){return o()&&Boolean(Symbol[t])},a=function(t){return s(t)?Symbol[t]:"@@"+t};o()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var u=a("iterator"),c=a("observable"),l=a("species");function h(t,e){var n=t[e];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function f(t){var e=t.constructor;return void 0!==e&&null===(e=e[l])&&(e=void 0),void 0!==e?e:P}function p(t){return t instanceof P}function d(t){d.log?d.log(t):setTimeout((function(){throw t}))}function v(t){Promise.resolve().then((function(){try{t()}catch(t){d(t)}}))}function y(t){var e=t._cleanup;if(void 0!==e&&(t._cleanup=void 0,e))try{if("function"==typeof e)e();else{var n=h(e,"unsubscribe");n&&n.call(e)}}catch(t){d(t)}}function m(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function g(t,e,n){t._state="running";var i=t._observer;try{var r=h(i,e);switch(e){case"next":r&&r.call(i,n);break;case"error":if(m(t),!r)throw n;r.call(i,n);break;case"complete":m(t),r&&r.call(i)}}catch(t){d(t)}"closed"===t._state?y(t):"running"===t._state&&(t._state="ready")}function b(t,e,n){if("closed"!==t._state){if("buffering"!==t._state)return"ready"!==t._state?(t._state="buffering",t._queue=[{type:e,value:n}],void v((function(){return function(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(g(t,e[n].type,e[n].value),"closed"!==t._state);++n);}}(t)}))):void g(t,e,n);t._queue.push({type:e,value:n})}}var _=function(){function t(e,n){r(this,t),this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var i=new w(this);try{this._cleanup=n.call(void 0,i)}catch(t){i.error(t)}"initializing"===this._state&&(this._state="ready")}return i(t,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(m(this),y(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),t}(),w=function(){function t(e){r(this,t),this._subscription=e}return i(t,[{key:"next",value:function(t){b(this._subscription,"next",t)}},{key:"error",value:function(t){b(this._subscription,"error",t)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),t}(),P=e.Observable=function(){function t(e){if(r(this,t),!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}return i(t,[{key:"subscribe",value:function(t){return"object"==typeof t&&null!==t||(t={next:t,error:arguments[1],complete:arguments[2]}),new _(t,this._subscriber)}},{key:"forEach",value:function(t){var e=this;return new Promise((function(n,i){if("function"==typeof t)var r=e.subscribe({next:function(e){try{t(e,o)}catch(t){i(t),r.unsubscribe()}},error:i,complete:n});else i(new TypeError(t+" is not a function"));function o(){r.unsubscribe(),n()}}))}},{key:"map",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(f(this))((function(n){return e.subscribe({next:function(e){try{e=t(e)}catch(t){return n.error(t)}n.next(e)},error:function(t){n.error(t)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(f(this))((function(n){return e.subscribe({next:function(e){try{if(!t(e))return}catch(t){return n.error(t)}n.next(e)},error:function(t){n.error(t)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var n=f(this),i=arguments.length>1,r=!1,o=arguments[1],s=o;return new n((function(n){return e.subscribe({next:function(e){var o=!r;if(r=!0,!o||i)try{s=t(s,e)}catch(t){return n.error(t)}else s=e},error:function(t){n.error(t)},complete:function(){if(!r&&!i)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(s),n.complete()}})}))}},{key:"concat",value:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=f(this);return new r((function(e){var i=void 0,o=0;return function t(s){i=s.subscribe({next:function(t){e.next(t)},error:function(t){e.error(t)},complete:function(){o===n.length?(i=void 0,e.complete()):t(r.from(n[o++]))}})}(t),function(){i&&(i.unsubscribe(),i=void 0)}}))}},{key:"flatMap",value:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var n=f(this);return new n((function(i){var r=[],o=e.subscribe({next:function(e){if(t)try{e=t(e)}catch(t){return i.error(t)}var o=n.from(e).subscribe({next:function(t){i.next(t)},error:function(t){i.error(t)},complete:function(){var t=r.indexOf(o);t>=0&&r.splice(t,1),s()}});r.push(o)},error:function(t){i.error(t)},complete:function(){s()}});function s(){o.closed&&0===r.length&&i.complete()}return function(){r.forEach((function(t){return t.unsubscribe()})),o.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(e){var n="function"==typeof this?this:t;if(null==e)throw new TypeError(e+" is not an object");var i=h(e,c);if(i){var r=i.call(e);if(Object(r)!==r)throw new TypeError(r+" is not an object");return p(r)&&r.constructor===n?r:new n((function(t){return r.subscribe(t)}))}if(s("iterator")&&(i=h(e,u)))return new n((function(t){v((function(){if(!t.closed){var n=!0,r=!1,o=void 0;try{for(var s,a=i.call(e)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value;if(t.next(u),t.closed)return}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}t.complete()}}))}));if(Array.isArray(e))return new n((function(t){v((function(){if(!t.closed){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}}))}));throw new TypeError(e+" is not observable")}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r="function"==typeof this?this:t;return new r((function(t){v((function(){if(!t.closed){for(var e=0;e<n.length;++e)if(t.next(n[e]),t.closed)return;t.complete()}}))}))}},{key:l,get:function(){return this}}]),t}();o()&&Object.defineProperty(P,Symbol("extensions"),{value:{symbol:c,hostReportError:d},configurable:!0})},1301:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1205),r=function(t){this.nextPageToken=null,this.jobs=[],this.nextPageToken=t.nextPageToken,this.jobs=t.jobs.map((function(t){return new i.Job(t)}))};e.SearchJobsResponse=r},1302:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(1221),o=n(1303),s=n(1304),a=n(1305),u=n(1306),c=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/av"}return t.prototype.transcodeVideoObservable=function(t){var e=this;return r.observeJobGroupCreator(this.configuration,this.httpClient)((function(){return e.transcodeVideo(t)}))},t.prototype.transcodeVideo=function(t){var e=i({},t);return this.httpClient.post(this.apiUrl+"/transcode",e).then((function(t){return new u.TranscodeJobResponse(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.extractPoster=function(t){var e=i({},t);return this.httpClient.post(this.apiUrl+"/poster",e).then((function(t){return new o.ExtractPosterJobResponse(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.extractStoryboard=function(t){var e=i({},t);return this.httpClient.post(this.apiUrl+"/storyboard",e).then((function(t){return new s.ExtractStoryboardJobResponse(t.payload)})).catch((function(t){return Promise.reject(t)}))},t.prototype.packageVideo=function(t){var e={sources:t.sources,specification:{destination:{directory:t.directory,acl:t.acl},chunkDuration:t.chunkDuration,packageType:t.packageType}};return this.httpClient.post(this.apiUrl+"/package",e).then((function(t){return new a.PackagingJobResponse(t.payload)}))},t}();e.AVManager=c},1303:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1205),r=function(t){this.groupId=null,this.jobs=[],this.groupId=t.groupId,this.jobs=t.jobs.map((function(t){return new i.Job(t)}))};e.ExtractPosterJobResponse=r},1304:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1205),r=function(t){this.jobs=[],this.groupId=null,this.groupId=t.groupId,this.jobs=t.jobs.map((function(t){return new i.Job(t)}))};e.ExtractStoryboardJobResponse=r},1305:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1205),r=function(t){this.jobs=[],this.groupId=t.groupId,this.jobs=t.jobs.map((function(t){return new i.Job(t)}))};e.PackagingJobResponse=r},1306:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(1235).JobGroup);e.TranscodeJobResponse=o},1307:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(1204),o=n(1205),s=n(1221),a=n(1206),u=n(1211),c=n(1308),l=function(){function t(t,e,n){this.configuration=t,this.httpClient=e,this.fileUploader=n,this.queueFileUpload=void 0,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/files"}return t.prototype.getUploadUrl=function(t){return this.fileUploader.getUploadUrl(t)},t.prototype.getUploadConfiguration=function(t){return this.fileUploader.getUploadConfiguration(t)},t.prototype.uploadFile=function(t,e,n,i,r){var o=this.fileUploader.uploadFile(t,e,n,i,r);return o.then?o.then((function(t){return t}),(function(t){return Promise.reject(t)})):o},t.prototype.importFileObservable=function(t){var e=this;return s.observeJobCreator(this.configuration,this.httpClient)((function(){return e.importFile(t)}))},t.prototype.importFile=function(t){return this.httpClient.post(this.baseUrl+"/_api/import/file",t).then((function(t){return new o.Job(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.createFile=function(t){return this.httpClient.post(this.apiUrl,t).then((function(t){return new a.FileDescriptor(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.createFolder=function(t){var e=t.acl,n=t.path;return this.httpClient.post(this.apiUrl,{acl:e,mimeType:r.DescriptorMimeType.Folder,path:n,size:0,type:r.FileType.FOLDER}).then((function(t){return new a.FileDescriptor(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.getFile=function(t){var e={path:t};return this.httpClient.get(this.apiUrl,e).then((function(t){return new a.FileDescriptor(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.getFileMetadataById=function(t){return this.httpClient.get(this.apiUrl+"/"+t+"/metadata").then((function(t){return new u.FileMetadata(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.listFiles=function(t,e){var n=i({path:t},e);return this.httpClient.get(this.apiUrl+"/ls_dir",n).then((function(t){return new c.ListFilesResponse(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.deleteFileByPath=function(t){var e={path:t};return this.httpClient.delete(this.apiUrl,e).catch((function(t){return Promise.reject(t)}))},t.prototype.deleteFileById=function(t){return this.httpClient.delete(this.apiUrl+"/"+t).catch((function(t){return Promise.reject(t)}))},t.prototype.updateFileACL=function(t){return this.httpClient.put(this.apiUrl,t).then((function(t){return new a.FileDescriptor(t.payload)}))},t}();e.FileManager=l},1308:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1206),r=function(t){this.files=[],this.nextPageToken=t.nextPageToken,this.files=t.files.map((function(t){return new i.FileDescriptor(t)}))};e.ListFilesResponse=r},1309:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1232),r=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/flow_control"}return t.prototype.getFlow=function(t){return this.httpClient.get(this.apiUrl+"/flow/"+t).then((function(t){return new i.Flow(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.createFlow=function(t){return this.httpClient.post(this.apiUrl+"/flow",t).then((function(t){return new i.Flow(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.deleteFlow=function(t){return this.httpClient.delete(this.apiUrl+"/flow/"+t).catch((function(t){return Promise.reject(t)}))},t}();e.FlowManager=r},1310:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1311),r=n(1312),o=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/images"}return t.prototype.getListOfSupportedExtractors=function(t){return t&&t.length?t.join(","):"colors,labels,explicit_content,faces"},t.prototype.parseResponse=function(){return function(t){return new r.ImageExtraction(t.payload)}},t.prototype.errorHandler=function(){return function(t){return t}},t.prototype.extractImageById=function(t,e){var n=this.getListOfSupportedExtractors(e);return null===e&&i.logDeprecated("passing features as null in extractImageById"),this.httpClient.get(this.apiUrl+"/features?fileId="+t+"&features="+n).then(this.parseResponse(),this.errorHandler())},t.prototype.extractImageByFilePath=function(t,e){var n=this.getListOfSupportedExtractors(e);return this.httpClient.get(this.apiUrl+"/features?path="+t+"&features="+n).then(this.parseResponse(),this.errorHandler())},t}();e.ImageExtractionManager=o},1311:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logDeprecated=function(t){console.warn("DEPRECATED: "+t)},e.deprecatedFn=function(t){return function(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=void 0!==t?'"'+n.name+'" function is deprecated with message "'+t+'"':'"'+n.name+'" function is deprecated';return e.logDeprecated(o),n.apply(void 0,i)}}}},1312:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1225),r=n(1226),o=n(1313),s=n(1227),a=function(t){t.colors&&t.colors.length&&(this.colors=t.colors.map((function(t){return new i.Color(t)}))),t.labels&&t.labels.length&&(this.labels=t.labels.map((function(t){return new s.Label(t)}))),t.faces&&t.faces.length&&(this.faces=t.faces.map((function(t){return new o.Face(t.height,t.width,t.x,t.y)}))),t.explicitContent&&t.explicitContent.length&&(this.explicitContent=t.explicitContent.map((function(t){return new r.ExplicitContent(t)})))};e.ImageExtraction=a},1313:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1210);e.Face=i.Rectangle},1314:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1206),r=n(1315),o=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/images"}return t.prototype.imageOperation=function(t){return this.httpClient.post(this.apiUrl+"/operations",t).then((function(t){return new i.FileDescriptor(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.createWatermarkManifest=function(t){return this.httpClient.post(this.apiUrl+"/watermark",t).then((function(t){return new r.WatermarkManifest(t.payload)}),(function(t){return Promise.reject(t)}))},t}();e.ImageManager=o},1315:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.id="",this.id=t.id};e.WatermarkManifest=i},1316:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1219),s=n(1317),a=n(1318),u=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/live"}return t.prototype.openStream=function(t){return this.httpClient.post(this.apiUrl+"/stream",t).then((function(t){return new o.LiveStream(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.getStream=function(t){return this.httpClient.get(this.apiUrl+"/stream/"+t).then((function(t){return new o.LiveStream(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.getStreamAnalytics=function(t){return this.httpClient.get(this.apiUrl+"/stream/"+t+"/analytics").then((function(t){return new s.LiveStreamAnalytics(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.closeStream=function(t){return this.httpClient.delete(this.apiUrl+"/stream/"+t).catch((function(t){return Promise.reject(t)}))},t.prototype.listStreams=function(t){var e=t&&t.toParams();return this.httpClient.get(this.apiUrl+"/streams",e).then((function(t){return new a.LiveStreamListResponse(t.payload)}),(function(t){return Promise.reject(t)}))},t.prototype.getStreamCoverUrl=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.httpClient.addAuthToUrl(this.apiUrl+"/stream/"+t+"/frame")]}))}))},t}();e.LiveManager=u},1317:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){this.projectId=t.projectId,this.streamId=t.streamId,this.stats=t.stats};e.LiveStreamAnalytics=i},1318:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1219),r=function(t){this.nextPageToken=void 0,this.streams=[],this.nextPageToken=t.nextPageToken,this.streams=t.streams.map((function(t){return new i.LiveStream(t)}))};e.LiveStreamListResponse=r},1319:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.configuration=t,this.httpClient=e}return t.prototype.getInstanceURL=function(t){return"https://"+this.configuration.domain+"/_api/widgetInstances/"+t},t.prototype.getAuthURL=function(t){return this.getInstanceURL(t)+"/auth"},t.prototype.auth=function(t){return this.httpClient.get(this.getAuthURL(t)).then((function(t){return t.payload.token}),(function(t){return console.error("Error while auth",t),""}))},t.prototype.fetchWidgetInstance=function(t){var e=this.httpClient,n=this.getInstanceURL(t);return e.get(n).then((function(t){return t.payload})).catch((function(t){throw console.error("error while fetching widget instance id",t),t}))},t}();e.WidgetInstanceManager=i},1320:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.configuration=t,this.httpClient=e}return t.prototype.getDownloadUrl=function(t,e){var n={path:t};return e&&(n=i(i({},n),e)),this.httpClient.get("https://"+this.configuration.domain+"/_api/download/secure_url",n).then((function(t){return t.payload}),(function(t){return Promise.reject(t)}))},t}();e.FileDownloader=r},1321:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.authenticationUrl=t,this.authenticationHeaders=e,this.authorizationHeader=null,this.authenticationUrl=t,this.authenticationHeaders=e}return t.prototype._request=function(t,e,n,i,r,o){var s=this;void 0===o&&(o=!1),this.getAuthorizationHeader().then((function(a){var u=new XMLHttpRequest,c="",l="";switch(t){case"POST":case"PUT":l=JSON.stringify(n);break;default:for(var h in c="",n)"function"!=typeof n[h]&&null!==n[h]&&void 0!==n[h]&&(""!==c&&(c+="&"),c+=h+"="+encodeURIComponent(n[h]))}u.addEventListener("load",(function(a){var c=null;try{c=JSON.parse(u.responseText||"{}")}catch(t){return void r(t,null)}if(200!==u.status&&201!==u.status)return 401!==u.status||o?void r(c,null):void s._request(t,e,n,i,r,!0);r(null,c)})),u.addEventListener("error",(function(a){403!==u.status&&401!==u.status||(s.authorizationHeader=null,401!==u.status||o)?r(new Error(u.statusText),null):s._request(t,e,n,i,r,!0)})),u.addEventListener("abort",(function(t){r(new Error(u.statusText),null)})),u.open(t,c?e+"?"+c:e),u.withCredentials=!0,u.setRequestHeader("Accept","application/json"),u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Authorization",a.Authorization),u.send(l)}),(function(t){return r&&r(t,null),Promise.reject(t)}))},t.prototype.getAuthorizationHeader=function(){var t=this,e=this.authorizationHeader;return function(t){var e,n=!1;if(t&&t.Authorization){var i=null;try{var r=t.Authorization.split(".");e=window.atob(r[1]),i=JSON.parse(e)}catch(t){console.error("invalid token structure",e)}null!==i&&i.exp&&1e3*i.exp>Date.now()&&(n=!0)}return n}(e)?Promise.resolve(e):new Promise((function(e,n){var i=new XMLHttpRequest;i.addEventListener("load",(function(){try{t.authorizationHeader=JSON.parse(i.responseText||"{}")}catch(t){return n(t)}return e(t.authorizationHeader)})),i.addEventListener("error",(function(){n(new Error(i.statusText))})),i.addEventListener("abort",(function(){n(new Error(i.statusText))})),i.open("GET",t.authenticationUrl),i.withCredentials=!0,i.setRequestHeader("Accept","application/json"),t.authenticationHeaders&&t.authenticationHeaders.forEach((function(t,e){return i.setRequestHeader(e,t)})),i.send()}))},t.prototype.deauthorize=function(){this.authorizationHeader=null},t.prototype.get=function(t,e,n){var i=this;return void 0===e&&(e={}),new Promise((function(r,o){i._request("GET",t,e,n,(function(t,e){t?o(t):r(e)}))}))},t.prototype.put=function(t,e,n){var i=this;return void 0===e&&(e={}),new Promise((function(r,o){i._request("PUT",t,e,n,(function(t,e){t?o(t):r(e)}))}))},t.prototype.post=function(t,e,n){var i=this;return void 0===e&&(e={}),new Promise((function(r,o){i._request("POST",t,e,n,(function(t,e){t?o(t):r(e)}))}))},t.prototype.delete=function(t,e,n){var i=this;return void 0===e&&(e={}),new Promise((function(r,o){i._request("DELETE",t,e,n,(function(t,e){t?o(t):r(e)}))}))},t.prototype.addAuthToUrl=function(t){var e=this;return new Promise((function(n,i){try{var r=new URL(t);e.getAuthorizationHeader().then((function(t){r.searchParams.set("Authorization",t.Authorization),n(r.toString())}),(function(t){i(t)}))}catch(t){i(t)}}))},t}();e.HTTPClient=i},1322:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1236),r=function(){function t(t,e){this.configuration=t,this.browserHTTPClient=e,this.uploadUrlEndpoint="https://"+t.domain+"/_api/upload/url",this.uploadConfigurationEndpoint="https://"+t.domain+"/_api/v2/upload/configuration",this.httpClient=e}return t.prototype.getUploadUrl=function(t){return this.browserHTTPClient.get(this.uploadUrlEndpoint,t).then((function(t){return t.payload}),(function(t){return Promise.reject(t)}))},t.prototype.getUploadConfiguration=function(t){return this.browserHTTPClient.post(this.uploadConfigurationEndpoint,t).then((function(t){return t.payload}),(function(t){return Promise.reject(t)}))},t.prototype.uploadFile=function(t,e,n,r,o){return new i.UploadJob({file:e,path:t,uploadFileRequest:n,uploadToken:r,uploadUrl:o}).run(this)},t}();e.FileUploader=r},1323:function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function o(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t,e){var n=r?r+t:t,i=this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,s=i.length,a=new Array(s);o<s;o++)a[o]=i[o].fn;return a},a.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,o),!0;case 6:return l.fn.call(l.context,e,n,i,o,s),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},a.prototype.on=function(t,e,n){var i=new s(e,n||this),o=r?r+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},a.prototype.once=function(t,e,n){var i=new s(e,n||this,!0),o=r?r+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[s]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new o:delete this._events[s]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,t.exports=a},1324:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.name="upload-aborted",n}return r(e,t),e}(n(1208).UploadEvent);e.UploadAbortedEvent=o},1325:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.name="upload-error",i}return r(e,t),e}(n(1208).UploadEvent);e.UploadErrorEvent=o},1326:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.loaded=n,r.total=i,r.name="upload-progress",r.loaded=n,r.total=i,r}return r(e,t),e}(n(1208).UploadEvent);e.UploadProgressEvent=o},1327:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.name="upload-started",n}return r(e,t),e}(n(1208).UploadEvent);e.UploadStartedEvent=o},1328:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.fileDescriptors=i,r.name="upload-success",r.fileDescriptors=i,r}return r(e,t),e}(n(1208).UploadEvent);e.UploadSuccessEvent=o},1329:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1204),r=function(t){this.acl=i.ACL.PUBLIC,this.mimeType=null,this.path=null,this.size=null,this.acl=t.acl||i.ACL.PUBLIC,this.mimeType=t.mimeType,this.path=t.path,this.size=t.size,t.callback&&(this.callback=t.callback)};e.UploadConfigurationRequest=r},1330:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1331),r=function(){function t(t,e){void 0===e&&(e=4),this.fileUploader=t,this.concurrency=e,this.jobs=[],this.fileUploader=t,this.queue=i((function(e,n){e.once("upload-end",n),e.run(t)}),e),this.jobs=[]}return t.prototype.enqueue=function(t){var e=this;return this.jobs.indexOf(t)>-1?(console.warn("upload job already queued"),this):(this.jobs.push(t),this.queue.push(t,(function(){var n=e.jobs.indexOf(t);n>-1&&e.jobs.splice(n,1)})),this)},t.prototype.pause=function(){return this.queue.pause(),this},t.prototype.resume=function(){return this.queue.resume(),this},t.prototype.kill=function(){return this.queue.kill(),this.jobs=[],this},t.prototype.length=function(){return this.queue.length()},t}();e.QueuedFileUploader=r},1331:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,r.default)(t);return(0,i.default)((function(t,e){n(t[0],e)}),e,1)};var i=o(n(1332)),r=o(n(1239));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},1332:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var l=(0,c.default)(t),h=0,f=[],p=!1;function d(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(m.started=!0,(0,r.default)(t)||(t=[t]),0===t.length&&m.idle())return(0,a.default)((function(){m.drain()}));for(var i=0,s=t.length;i<s;i++){var u={data:t[i],callback:n||o.default};e?m._tasks.unshift(u):m._tasks.push(u)}p||(p=!0,(0,a.default)((function(){p=!1,m.process()})))}function v(t){return function(e){h-=1;for(var n=0,r=t.length;n<r;n++){var o=t[n],s=(0,i.default)(f,o,0);0===s?f.shift():s>0&&f.splice(s,1),o.callback.apply(o,arguments),null!=e&&m.error(e,o.data)}h<=m.concurrency-m.buffer&&m.unsaturated(),m.idle()&&m.drain(),m.process()}}var y=!1,m={_tasks:new u.default,concurrency:e,payload:n,saturated:o.default,unsaturated:o.default,buffer:e/4,empty:o.default,drain:o.default,error:o.default,started:!1,paused:!1,push:function(t,e){d(t,!1,e)},kill:function(){m.drain=o.default,m._tasks.empty()},unshift:function(t,e){d(t,!0,e)},remove:function(t){m._tasks.remove(t)},process:function(){if(!y){for(y=!0;!m.paused&&h<m.concurrency&&m._tasks.length;){var t=[],e=[],n=m._tasks.length;m.payload&&(n=Math.min(n,m.payload));for(var i=0;i<n;i++){var r=m._tasks.shift();t.push(r),f.push(r),e.push(r.data)}h+=1,0===m._tasks.length&&m.empty(),h===m.concurrency&&m.saturated();var o=(0,s.default)(v(t));l(e,o)}y=!1}},length:function(){return m._tasks.length},running:function(){return h},workersList:function(){return f},idle:function(){return m._tasks.length+h===0},pause:function(){m.paused=!0},resume:function(){!1!==m.paused&&(m.paused=!1,(0,a.default)(m.process))}};return m};var i=l(n(1333)),r=l(n(680)),o=l(n(1337)),s=l(n(1338)),a=l(n(1237)),u=l(n(1341)),c=l(n(1239));function l(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},1333:function(t,e,n){var i=n(1334),r=n(1335),o=n(1336);t.exports=function(t,e,n){return e==e?o(t,e,n):i(t,r,n)}},1334:function(t,e){t.exports=function(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}},1335:function(t,e){t.exports=function(t){return t!=t}},1336:function(t,e){t.exports=function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}},1337:function(t,e){t.exports=function(){}},1338:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},1339:function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(1340),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(108))},1340:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,s,a,u=1,c={},l=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},i=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,i=function(t){var e=h.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[u]=r,i(u),u++},f.clearImmediate=p}function p(t){delete c[t]}function d(t){if(l)setTimeout(d,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(108),n(676))},1341:function(t,e,n){"use strict";function i(){this.head=this.tail=null,this.length=0}function r(t,e){t.length=1,t.head=t.tail=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},i.prototype.empty=function(){for(;this.head;)this.shift();return this},i.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},i.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},i.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):r(this,t)},i.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):r(this,t)},i.prototype.shift=function(){return this.head&&this.removeLink(this.head)},i.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},i.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,n=0;n<this.length;n++)t[n]=e.data,e=e.next;return t},i.prototype.remove=function(t){for(var e=this.head;e;){var n=e.next;t(e)&&this.removeLink(e),e=n}return this},t.exports=e.default},1342:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,r.default)((function(e,n){var r;try{r=t.apply(this,e)}catch(t){return n(t)}(0,i.default)(r)&&"function"==typeof r.then?r.then((function(t){a(n,null,t)}),(function(t){a(n,t.message?t:new Error(t))})):n(null,r)}))};var i=s(n(266)),r=s(n(1343)),o=s(n(1237));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){try{t(e,n)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},1343:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),n=e.pop();t.call(this,e,n)}};var i,r=n(1238),o=(i=r)&&i.__esModule?i:{default:i};t.exports=e.default},1344:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1211),r=function(){function t(t,e){this.configuration=t,this.httpClient=e,this.baseUrl="https://"+t.domain,this.apiUrl=this.baseUrl+"/_api/audio"}return t.prototype.extractMetadata=function(t){var e={path:t};return this.httpClient.get(this.apiUrl+"/metadata",e).then((function(t){return new i.FileMetadata(t.payload)}),(function(t){return Promise.reject(t)}))},t}();e.AudioManager=r},1373:function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(0),o=n(1175),s=n(1240),a=n(1223),u=n(1204),c=n(43),l="/media-studio-blobs-tmp/",h=n(459),f=function(t,e){try{return new File([t],e)}catch(e){return t}},p=function(t,e){return function(n){if(!t.fileManager.queueFileUpload)throw Error("Can not upload, no queueFileUpload");var i,r,o=Object(h.a)()+(i=n.type,(r=i.split("image/")[1])?"."+r:""),s=""+l+o,p=new a.upload.UploadJob({path:s,file:f(n,o),uploadFileRequest:new a.file.UploadFileRequest({acl:u.ACL.PUBLIC,age:15724800})});return t.fileManager.queueFileUpload(p),new c.a((function(t){return p.on("upload-error",(function(){t.error("upload error")})),p.on("upload-success",(function(n){var i=n.fileDescriptors;if(1===i.length){var r=i[0];t.next(""+e+r.path),t.complete()}else t.error("unexpected upload result")})),function(){p.abort()}}))}},d=n(498),v=n(493),y=n(304),m=n(420);n.d(e,"CommonServicesContext",(function(){return w})),n.d(e,"initCommonServices",(function(){return P})),n.d(e,"useCommonServices",(function(){return j})),n.d(e,"CommonServicesProvider",(function(){return M}));var g=r.useRef,b=r.useEffect,_=r.useContext,w=r.createContext(void 0);function P(t,e){var n=e.mediaPlatformSettings,r=t.biLogger,o=Object(v.a)(r),a=n?Object(s.a)({domain:n.domain,authenticationUrl:n.authenticationUrl}):void 0,u=a&&n?p(a,n.imageServiceUrl):void 0;return i.__assign({},t,{uploadTempImage:u?o(u,{name:"uploadTempImage"}):u})}var O=Object(o.a)(d.b),j=function(){var t=_(w);if(!t)throw Error("Common Services were not initialized. Use `useCommonServices` hook only inside CommonServicesProvider component");return t},M=function(t){var e=t.children,n=function(t){var e=Object(y.c)(),n=e.mediaPlatformSettings,r=g(i.__assign({},P(e,{mediaPlatformSettings:n}),t)),o=Object(m.b)(),s=o.state.common,a=o.registerCommon;return b((function(){a({epic:O,services:r.current,name:"common"})}),[r,a]),{isReady:s,commonServices:r.current}}(t.passedServices),o=n.isReady,s=n.commonServices;return r.createElement(w.Provider,{value:s},o?e:null)};e.default=M}}]);
//# sourceMappingURL=common.chunk.min.js.map